"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.readPackageJson = void 0;
const ono_1 = require("@jsdevtools/ono");
const fs_1 = require("fs");
let pkg;
/**
 * Reads the host project's package.json file and returns its parsed contents.
 */
function readPackageJson() {
    if (pkg) {
        return pkg;
    }
    let json;
    try {
        json = (0, fs_1.readFileSync)("package.json", "utf8");
    }
    catch (error) {
        throw (0, ono_1.ono)(error, "Error reading package.json");
    }
    try {
        pkg = JSON.parse(json);
        return pkg;
    }
    catch (error) {
        throw ono_1.ono.syntax(error, "Error parsing package.json");
    }
}
exports.readPackageJson = readPackageJson;
//# sourceMappingURL=package-json.js.map